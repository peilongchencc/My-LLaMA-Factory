# 数据格式:

有些朋友对数据集的格式很迷惑，笔者采用的是 "Alpaca格式" ，这里就介绍下 "Alpaca格式" 的数据格式。

- [数据格式:](#数据格式)
  - [Alpaca数据格式简介:](#alpaca数据格式简介)
  - [单轮对话示例](#单轮对话示例)
    - [示例 1:](#示例-1)
    - [示例 2:](#示例-2)
  - [多轮对话示例](#多轮对话示例)
    - [示例 1:](#示例-1-1)
    - [示例 2:](#示例-2-1)
  - [system 字段的使用:](#system-字段的使用)
  - [input 字段的使用:](#input-字段的使用)


## Alpaca数据格式简介:

**Alpaca** 是一个衍生自 Meta 的 LLaMA 模型的项目，由斯坦福大学团队开发。Alpaca 使用了一种特定的数据格式来组织训练数据，这些数据通常包括一个提示（prompt）和模型生成的响应（response）。这种格式的结构简单，通常如下：

- **指令（instruction）**：必选字段，用户给模型的指令或问题。(一般来说，只填写这一项就可以。)
- **输入（input）**：可选字段，该字段可以为空，或者包含一些额外的信息来帮助模型生成更好的回答。
- **输出（output）**：必选字段，模型根据指令生成的回答或响应。
- **系统提示次（system）**: 可选字段，用于指定系统提示词，帮助模型理解任务。
- **历史记录（history）**: 可选字段，包含了对话的历史记录，确保模型可以利用上下文进行回答。

这个格式的关键在于通过指令和响应对来教模型如何处理特定类型的输入，并生成对应的输出。格式如下:

```json
[
    {
      "instruction": "人类指令（必填）",
      "input": "人类输入（选填）",
      "output": "模型回答（必填）",
      "system": "系统提示词（选填）",
      "history": [
        ["第一轮指令（选填）", "第一轮回答（选填）"],
        ["第二轮指令（选填）", "第二轮回答（选填）"]
      ]
    }
]
```


## 单轮对话示例

### 示例 1:

```json
[
    {
        "instruction": "请介绍一下机器学习是什么。",
        "input": "",
        "output": "机器学习是一种人工智能方法，允许系统从数据中学习并做出决策或预测，而无需显式编程。"
    }
]
```

### 示例 2:

```json
[
    {
        "instruction": "计算5的阶乘。",
        "input": "",
        "output": "5的阶乘是120。"
    }
]
```


## 多轮对话示例

### 示例 1:

```json
[
    {
        "instruction": "量子比特与经典比特有什么不同？",
        "input": "",
        "output": "经典比特只能表示0或1两种状态，而量子比特可以同时表示0和1的叠加状态，这赋予了量子计算更强大的计算能力。",
        "history": [
            ["解释什么是量子计算。", "量子计算是一种基于量子力学原理的新型计算方式，利用量子比特（qubits）进行计算，可以解决经典计算机难以处理的复杂问题。"]
        ]
    }
]
```

### 示例 2:

```json
[
    {
        "instruction": "我应该如何开始学习Python？",
        "input": "",
        "output": "你可以从在线教程开始，比如Codecademy或Coursera上的Python课程，此外，尝试在项目中运用你学到的知识也是非常有效的学习方式。",
        "history": [
            ["列举一些常见的编程语言。", "一些常见的编程语言包括Python、Java、C++、JavaScript和Ruby。"],
            ["哪种语言最适合初学者？", "Python通常被认为是最适合初学者的编程语言，因为它语法简单，功能强大，且有大量学习资源。"]
        ]
    }
]
```


## system 字段的使用:

system 字段为设定对话或任务的背景、控制模型的行为或风格。例如:

> system字段的内容也可以放入instruction字段中，只不过在instruction字段中可能需要每次都添加。

```json
[
    {
        "instruction": "解释相对论的基本原理。",
        "input": "",
        "output": "相对论是爱因斯坦提出的理论，分为狭义相对论和广义相对论。狭义相对论提出了光速不变和时间膨胀的概念，而广义相对论则描述了重力对时空的影响。",
        "system": "你是一个物理学教授，专长是理论物理学。"
    }
]
```

```json
[
    {
        "instruction": "用简单的语言解释什么是黑洞。",
        "input": "",
        "output": "黑洞是宇宙中一种天体，具有极强的引力，连光也无法逃脱。",
        "system": "用通俗易懂的语言解释复杂的科学概念，适合中学生。"
    }
]
```


## input 字段的使用:

在 **Alpaca格式** 中，`input` 字段是否需要填写，取决于指令的类型和任务的需求。

1. `input` 为空的情况

当指令本身已经包含了所有必要的信息时，`input` 字段可以为空。这种情况下，模型只需要根据 `instruction` 来生成 `output`，无需额外的上下文或数据。

示例：

- **指令：** "解释什么是机器学习。"  
  - 这里，`instruction` 已经足够明确，模型只需要回答这个问题即可，`input` 不需要额外提供信息。

```json
[
    {
    "instruction": "解释什么是机器学习。",
    "input": "",
    "output": "机器学习是一种人工智能技术，它使计算机系统能够从数据中学习并根据所学的模式做出决策或预测，而无需显式编程。"
    }
]
```

2. `input` 有内容的情况

当指令要求对特定的内容进行操作或加工时，`input` 字段就会被用来提供这些内容。此时，`instruction` 描述的是要对 `input` 进行什么操作，而 `input` 则提供了操作的具体对象。

示例：

- **指令：** "总结以下段落。"  
  - 在这个例子中，`instruction` 是让模型总结某个段落，但段落内容在 `instruction` 中没有明确给出，因此需要在 `input` 字段中提供。

```json
[
    {
    "instruction": "总结以下段落。",
    "input": "机器学习是人工智能的一个子领域，涉及从数据中自动检测模式，并根据这些模式进行预测或决策，而无需明确的规则编程。",
    "output": "机器学习是一种无需显式编程，通过数据检测模式并进行预测的AI技术。"
    }
]
```

